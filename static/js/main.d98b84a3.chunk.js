(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(5),r=n.n(o),s=n(4),i=n.n(s),l=n(6),u=n(7),h=n(8),b=n(2),d=n(10),p=n(9),j=(n(16),n(0)),v=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={balanceByAccount:{}},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"handleChange",value:function(e){var t=this.getBalanceByAccount(e.target.value);console.log(t),this.balanceByAccount=this.setState({balanceByAccount:t})}},{key:"getBalanceByAccount",value:function(e){var t=this,n=e.split("\n"),a=/\d+\.\d+/,c={};return n.forEach((function(e){var n=e.match(a),o=t.getAccount(e);n&&n.forEach((function(e){var t=parseFloat(e);c[o]?c[o]+=t:c[o]=t}))})),c}},{key:"getAccount",value:function(e){var t="unknown";return["amex","revolut"].forEach((function(n){e.toLowerCase().includes(n)&&(t=n)})),t}},{key:"copyToClipboard",value:function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:console.log("Copied to clipboard"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object.keys(this.state.balanceByAccount).map((function(t){var n=e.state.balanceByAccount[t];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{children:"Account:"})," ",t," "]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{children:"Balance:"})," ",n]}),Object(j.jsx)("button",{onclick:e.copyToClipboard(n),children:"\ud83d\udccb Copy to clipboard"})]})}));return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{fontWeight:"bold",fontSize:"xx-large"},children:"\u2696\ufe0f Balance Extractor"}),Object(j.jsx)("div",{children:"Copy and paste messages from WhatsApp into the box below. Account balances will be extracted and totalled up."}),Object(j.jsx)("textarea",{type:"text",value:this.state.value,onChange:this.handleChange}),t]})}}]),n}(c.a.Component);r.a.render(Object(j.jsx)(v,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d98b84a3.chunk.js.map