(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(2),o=n.n(r),s=n(5),l=n.n(s),i=n(7),u=n(8),b=n(9),h=n(3),d=n(11),p=n(10),j=n(6),v=(n(17),n(18),n(1)),f=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={balanceByAccount:{}},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(b.a)(n,[{key:"handleChange",value:function(e){var t=this.getBalanceByAccount(e.target.value);console.log(t),this.balanceByAccount=this.setState({balanceByAccount:t})}},{key:"getBalanceByAccount",value:function(e){var t=this,n=e.split("\n"),a={};return n.forEach((function(e){var n=t.getAccount(e),c=t.getBalanceInPence(e);0!==c&&(a[n]?a[n]+=c:a[n]=c)})),Object.keys(a).forEach((function(e){a[e]/=100})),a}},{key:"getAccount",value:function(e){var t="unknown";return["amex","revolut"].forEach((function(n){e.toLowerCase().includes(n)&&(t=n)})),t}},{key:"getBalanceInPence",value:function(e){var t=e.match(/\xa3(\d+)\.?(\d+)?/),n=0;return t?(t[1]&&(n+=parseInt(100*t[1])),t[2]&&(1===t[2].length?n+=parseInt(10*t[2]):2===t[2].length&&(n+=parseInt(t[2]))),n):n}},{key:"copyToClipboard",value:function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:n="Copied to clipboard",console.log(n),Object(j.b)(n,{autoClose:2e3}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object.keys(this.state.balanceByAccount).map((function(t){var n=e.state.balanceByAccount[t];return Object(v.jsxs)("div",{children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("b",{children:"Account:"})," ",t," "]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("b",{children:"Balance:"})," ",n]}),Object(v.jsx)("button",{onClick:function(){return e.copyToClipboard(n)},children:"\ud83d\udccb Copy to clipboard"})]},t)}));return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{fontWeight:"bold",fontSize:"xx-large"},children:"\u2696\ufe0f Balance Extractor"}),Object(v.jsx)("div",{children:"Copy and paste messages from WhatsApp into the box below. Account balances will be extracted and totalled up."}),Object(v.jsx)("textarea",{type:"text",value:this.state.value,onChange:this.handleChange}),t,Object(v.jsx)(j.a,{})]})}}]),n}(c.a.Component);o.a.render(Object(v.jsx)(f,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.f386883d.chunk.js.map